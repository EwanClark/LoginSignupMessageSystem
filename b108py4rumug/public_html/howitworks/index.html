<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overview of Login and Signup System</title>
    <link rel="stylesheet" href="../css/howitworks.css">
    <link rel="icon" href="../Assets/Logo/favicon_io/favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="container">
        <h1>Overview of Login and Signup System</h1>
        <p>Hello, I am the creator of this website. This document explains how the login and signup system operates.</p>
        
        <h2>Front End</h2>
        <p>The <code>login.js</code> file performs initial checks on user input. It ensures that all required fields are filled in. If any fields are empty, the user is alerted. If the fields are completed, a POST request is sent 
to the API, which then comparess the hash between the password inputed and the one in the database that matches with the username. If a match is found, a success response with code 200 is returned and a token is stored in the local storage and they are redirected to the message system.</p>
        <p>Similarly, the <code>signup.js</code> file checks that all fields are completed and validates the password against certain criteria (minimum length, uppercase letter, lowercase letter, number, and no whitespace). If 
the input meets all criteria, the password is hashed and a POST request is sent to the API. The API then checks the database to ensure the username is not already taken. If the username is unique, the user is added to the database with a hashed 
password.</p>
            <p>
            The <code>message.js</code> file is used to send and receive messages. When the user types a message and clicks the send button, the message is sent to the API, which then sends the message to all connected clients. The message is displayed in the chat window. The user can also log out by clicking the logout icon, which removes the token from local storage and redirects the user to the login page.</p>
            </p>

        <h2>Back End</h2>
        <p>The backend system is configured such that the DNS for the subdomain <code>api.bubllz.com</code> points to the server's IP address. Requests to <code>api.bubllz.com/{your_request}</code> are forwarded by NGINX to 
<code>35.179.121.244:4000/{your_request}</code>. The Node.js server listens on port 4000 and is set up using Express to handle POST requests. A few things to metion is that there is a rate limteing system (200 requests per
 1 min) The primary endpoints are <code>/login</code>, <code>/signup</code>, <code>/message</code>, <code>/poll</code>. <br><br>For 
<code>/login</code>, the API checks if the username exists and compares the provided password and hashes it to compare it with the stored hash. If the credentials are valid, the user is logged in and the token is grabed
 from the database; otherwise, a 401 error is returned. <br><br>For 
<code>/signup</code>, the API hashes the password and verifies if the username already exists. If not, a random token is created and the user is created in the database, a confirmation message is returned.<br><br>The way 
<code>/message</code> works is that it checks the database for the token that was in the reqest headers and it checks the database to see if that token exists if it does then it finds the username acosiated with it and if
 the token does not exist then it returns a code 401 then it runs sends the message to all the clients waiting for a respone to their post request.<br><br>Finaly how <code>/poll</code> works is that it makes a request asking
  the server for a response when there is a new message when the message is made the clients get a respone to the post request and a new request is made waiting for the message to be sent.</p>

        <h2>Usage Instructions</h2>
        <p>You can access the login and signup functionalities through the following URLs:</p>
        <ul>
            <li><strong>Login:</strong> <a href="https://bubllz.com/login">https://bubllz.com/login</a> - Use this URL to access the login page where you can enter your username and password to log into your account.</li>
            <li><strong>Signup:</strong> <a href="https://bubllz.com/signup">https://bubllz.com/signup</a> - Use this URL to access the signup page where you can create a new account by providing your details and setting a 
password.</li>
        </ul>

        <h2>Source Files</h2>
        <h3>Github:</h3>
        <h3>Login Files:</h3>
        <ul>
            <li>CSS: <a href="https://bubllz.com/css/login.css">login.css</a></li>
            <li>JavaScript: <a href="https://bubllz.com/js/login.js">login.js</a></li>
        </ul>

        <h3>Signup Files:</h3>
        <ul>
            <li>CSS: <a href="https://bubllz.com/css/signup.css">signup.css</a></li>
            <li>JavaScript: <a href="https://bubllz.com/js/signup.js">signup.js</a></li>
        </ul>
        <h3>Message Files:</h3>
        <ul>
            <li>CSS: <a href="https://bubllz.com/css/message.css">message.css</a></li>
            <li>JavaScript: <a href="https://bubllz.com/js/message.js">message.js</a></li>
        </ul>
        <h3>HowItWorks Files:</h3>
        <ul>
            <li>CSS: <a href="https://bubllz.com/css/howitworks.css">howitworks.css</a></li>
        </ul>        
        <h3>Backend API File:</h3>
        <ul>
            <li>JavaScript: <a href="https://bubllz.com/api.bubllz.com/api.js">api.js</a></li>
        </ul>
        <p><em>Note: The API code is running on an Amazon EC2 instance, but it has been linked here for reference.</em></p>
    </div>
</body>
</html>